<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="gmair.openplatform.corp.profile">
    <resultMap id="corpProfileVo" type="finley.gmair.model.openplatform.CorpProfile">
        <result property="profileId" column="corp_id"></result>
        <result property="corpName" column="corp_name"></result>
        <result property="corpEmail" column="corp_email"></result>
        <result property="appid" column="corp_app_id"></result>
        <result property="blockFlag" column="block_flag"></result>
        <result property="createAt" column="create_time"></result>
    </resultMap>

    <insert id="insert" parameterType="finley.gmair.model.openplatform.CorpProfile" useGeneratedKeys="false">
        INSERT INTO open_platform.corp_profile(corp_id,corp_name,corp_email,corp_app_id,block_flag,create_time)
        VALUES (#{profileId},#{corpName},#{corpEmail},#{appid},#{blockFlag},#{createAt})
    </insert>

    <select id="query" parameterType="java.util.Map" resultMap="corpProfileVo">
        SELECT
        corp_id,
        corp_name,
        corp_email,
        corp_app_id,
        block_flag,
        create_time
        FROM open_platform.corp_profile
        WHERE 1 = 1
        <if test="profileId != null">
            AND corp_id = #{profileId}
        </if>
        <if test="corpName != null">
            AND corp_name = #{corpName}
        </if>
        <if test="corpEmail != null">
            AND corp_email = #{corpEmail}
        </if>
        <if test="appid != null">
            AND corp_app_id = #{appid}
        </if>
        <if test="blockFlag != null">
            AND block_flag = #{blockFlag}
        </if>
        ORDER BY create_time ASC
    </select>
</mapper>