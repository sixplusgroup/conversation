(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-00d74186"],{"0ef6":function(e,t,a){},"166a":function(e,t,a){"use strict";a("0ef6")},"1ca6":function(e,t,a){"use strict";a("837b")},4846:function(e,t,a){"use strict";a("8020")},"660d":function(e,t,a){e.exports=a.p+"img/cover.76136c60.jpeg"},"6ffc":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"hotelList"},[a("a-carousel",{staticClass:"carousel",attrs:{autoplay:!0}},e._l(e.imgUrls,(function(e,t){return a("div",{key:t,staticClass:"carousel-item"},[a("img",{staticStyle:{},attrs:{src:e,alt:""}})])})),0),a("div",{staticClass:"search-bar"},[a("a-range-picker",{model:{value:e.searchInfo.timeRange,callback:function(t){e.$set(e.searchInfo,"timeRange",t)},expression:"searchInfo.timeRange"}}),a("a-input-search",{attrs:{placeholder:"输入目的地","enter-button":""},on:{search:e.onSearch},model:{value:e.searchInfo.name,callback:function(t){e.$set(e.searchInfo,"name",t)},expression:"searchInfo.name"}})],1),a("div",{staticClass:"search-info"},[a("a-row",{attrs:{type:"flex",justify:"space-between",align:"middle"}},[a("a-col",{attrs:{span:7}},[a("a-select",{attrs:{span:7,mode:"multiple",placeholder:"选择房间类型",value:e.searchInfo.roomTypes},on:{change:e.onChangeRoomTypes}},e._l(e.filteredRoomTypes,(function(t){return a("a-select-option",{key:t,attrs:{value:t}},[e._v(e._s(t))])})),1),a("span",[e._v("房间类型")])],1),a("a-col",{attrs:{span:7}},[a("a-select",{attrs:{mode:"multiple",placeholder:"选择酒店服务",value:e.searchInfo.serves},on:{change:e.onChangeServes}},e._l(e.filteredServes,(function(t){return a("a-select-option",{key:t,attrs:{value:t}},[e._v(e._s(t))])})),1),a("span",[e._v("酒店服务")])],1),a("a-col",{attrs:{span:7}},[a("a-select",{attrs:{mode:"multiple",placeholder:"选择酒店星级",value:e.searchInfo.stars},on:{change:e.onChangeStars}},e._l(e.filteredStars,(function(t){return a("a-select-option",{key:t,attrs:{value:t}},[e._v(e._s(t))])})),1),a("span",[e._v("酒店星级")])],1)],1),a("a-divider"),a("a-row",{attrs:{type:"flex",justify:"start",align:"middle"}},[a("a-col",{staticClass:"select-bar",attrs:{span:11}},[a("span",{staticStyle:{width:"100px"}},[e._v("价格区间")]),a("a-slider",{attrs:{range:"",min:1,max:1e4},model:{value:e.searchInfo.priceRange,callback:function(t){e.$set(e.searchInfo,"priceRange",t)},expression:"searchInfo.priceRange"}}),a("a-input",{attrs:{min:1,max:1e4},model:{value:e.searchInfo.priceRange[0],callback:function(t){e.$set(e.searchInfo.priceRange,0,t)},expression:"searchInfo.priceRange[0]"}}),a("span",{staticStyle:{margin:"0px 5px"}},[e._v("~")]),a("a-input",{attrs:{min:1,max:1e4},model:{value:e.searchInfo.priceRange[1],callback:function(t){e.$set(e.searchInfo.priceRange,1,t)},expression:"searchInfo.priceRange[1]"}})],1),a("a-col",{staticClass:"select-bar",attrs:{span:10,offset:3}},[a("span",[e._v("最低评分")]),a("a-slider",{attrs:{min:0,max:5,step:.01},model:{value:e.searchInfo.lowestRate,callback:function(t){e.$set(e.searchInfo,"lowestRate",t)},expression:"searchInfo.lowestRate"}}),a("a-input-number",{attrs:{min:0,max:5},model:{value:e.searchInfo.lowestRate,callback:function(t){e.$set(e.searchInfo,"lowestRate",t)},expression:"searchInfo.lowestRate"}})],1)],1)],1),a("a-divider"),a("div",{staticStyle:{"align-self":"flex-start","margin-left":"20px","margin-bottom":"30px"}},[e._v("搜索结果：共找到 "+e._s(e.hotelList.length)+" 家酒店")]),a("a-spin",{staticClass:"search-result",attrs:{spinning:e.hotelListLoading}},[a("div",{staticClass:"card-wrapper"},[e._l(e.hotelList,(function(t){return a("HotelCard",{key:t.index,attrs:{hotel:t},nativeOn:{click:function(a){return e.jumpToDetails(t.id)}}})})),e._l(e.emptyBox,(function(e){return a("div",{key:e.name,staticClass:"emptyBox ant-col-xs-7 ant-col-lg-5 ant-col-xxl-3"})}))],2),a("a-pagination",{attrs:{showQuickJumper:"",total:e.hotelList.totalElements,defaultCurrent:1},on:{change:e.pageChange}})],1)],1)},n=[],r=a("5530"),o=a("1da1"),i=(a("d81d"),a("b0c0"),a("4de4"),a("d3b7"),a("caad"),a("2532"),a("96cf"),function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("a-card",{staticClass:"hotelCard",attrs:{hoverable:""}},[e.hotel.url?s("img",{attrs:{slot:"cover",alt:"example",src:e.hotel.url,referrerpolicy:"no-referrer"},slot:"cover"}):s("img",{attrs:{slot:"cover",alt:"example",src:a("660d"),referrerpolicy:"no-referrer"},slot:"cover"}),s("a-card-meta",[s("span",{staticStyle:{"font-size":"20px","font-weight":"700","letter-spacing":"3px"},attrs:{slot:"title"},slot:"title"},[e._v(e._s(e.hotel.hotelName))]),s("template",{slot:"description"},[s("div",{staticStyle:{display:"flex","align-items":"center","justy-content":"center"}},[s("span",{staticStyle:{margin:"5px 20px 0 0","font-size":"16px","font-weight":"600"}},[e._v("星级")]),s("a-rate",{staticStyle:{"font-size":"15px"},attrs:{value:e.getHotelStar,disabled:"",allowHalf:""}})],1),s("div",{staticStyle:{display:"flex","align-items":"center","justy-content":"center","margin-top":"20px"}},[s("span",{staticStyle:{margin:"5px 20px 0 0","font-size":"16px","font-weight":"600"}},[e._v("评分")]),s("div",{staticStyle:{display:"flex",color:"black"}},[s("div",{staticStyle:{"font-size":"26px","font-weight":"500"}},[e._v(e._s(e.hotel.rate))]),s("div",{staticStyle:{"font-size":"24px","font-weight":"500",margin:"7px 0 0 5px"}},[e._v("/")]),s("div",{staticStyle:{"font-size":"22px","font-weight":"400",margin:"10px 0 0 5px"}},[e._v("5")])])])])],2)],1)}),c=[],l={name:"",props:{hotel:{}},data:function(){return{}},computed:{getHotelStar:function(){var e=this.hotel.hotelStar;return"Five"==e?5:"Four"==e?4:"Three"==e?3:"Two"==e?2:"One"==e?1:0}},methods:{}},u=l,p=(a("166a"),a("4846"),a("2877")),f=Object(p["a"])(u,i,c,!1,null,"63948d9e",null),h=f.exports,m=a("7736"),d=(a("4360"),a("6864")),g=["One","Two","Three","Four","Five"],v={name:"home",components:{HotelCard:h},data:function(){return{emptyBox:[{name:"box1"},{name:"box2"},{name:"box3"}],imgUrls:["https://s1.ax1x.com/2020/05/28/tZrqRe.png","https://s1.ax1x.com/2020/06/30/N4l0mD.png"],searchInfo:{name:"",serves:[],roomTypes:[],priceRange:[0,1e4],lowestRate:0,stars:[],timeRange:[d(),d().add(30,"days")]}}},mounted:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getHotelList();case 2:return t.next=4,e.getAllRoomType();case 4:return t.next=6,e.getAllServe();case 6:case"end":return t.stop()}}),t)})))()},computed:Object(r["a"])(Object(r["a"])({},Object(m["c"])(["hotelList","hotelListLoading"])),{},{roomTypes:{get:function(){return this.$store.getters.roomTypes.map((function(e){return e.name}))},set:function(e){console.log("set searchInfo.roomTypes",e),this.searchInfo.roomTypes=e}},allServes:{get:function(){return this.$store.getters.allServes.map((function(e){return e.name}))},set:function(e){this.searchInfo.serves=e}},filteredServes:function(){var e=this;return this.allServes.filter((function(t){return!e.searchInfo.serves.includes(t)}))},filteredRoomTypes:function(){var e=this;return this.roomTypes.filter((function(t){return!e.searchInfo.roomTypes.includes(t)}))},filteredStars:function(){var e=this;return g.filter((function(t){return!e.searchInfo.stars.includes(t)}))}}),methods:Object(r["a"])(Object(r["a"])(Object(r["a"])({},Object(m["d"])(["set_hotelListParams","set_hotelListLoading"])),Object(m["b"])(["getHotelList","getAllRoomType","getAllServe","searchHotel"])),{},{onSearch:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.set_hotelListLoading(!0),e.next=3,t.searchHotel(t.searchInfo);case 3:case"end":return e.stop()}}),e)})))()},pageChange:function(e,t){var a={pageNo:e-1};this.set_hotelListParams(a),this.set_hotelListLoading(!0),this.getHotelList()},jumpToDetails:function(e){this.$router.push({name:"hotelDetail",params:{hotelId:e}})},onChangeRoomTypes:function(e){this.searchInfo.roomTypes=e},onChangeServes:function(e){this.searchInfo.serves=e},onChangeStars:function(e){this.searchInfo.stars=e}})},x=v,y=(a("1ca6"),Object(p["a"])(x,s,n,!1,null,"81fb1874",null));t["default"]=y.exports},8020:function(e,t,a){},"837b":function(e,t,a){},d81d:function(e,t,a){"use strict";var s=a("23e7"),n=a("b727").map,r=a("1dde"),o=r("map");s({target:"Array",proto:!0,forced:!o},{map:function(e){return n(this,e,arguments.length>1?arguments[1]:void 0)}})}}]);
//# sourceMappingURL=chunk-00d74186.ab7d353f.js.map